{"version":3,"sources":["components/Input.js","components/NightModeToggle.js","components/Navbar.js","components/TopNav.js","screens/Home.js","screens/DriveHelp.js","App.js","index.js"],"names":["Input","label","wrapperClass","labelProps","onChange","id","props","className","htmlFor","e","target","value","defaultProps","type","text","console","log","NightModeToggle","localStored","process","browser","localStorage","getItem","useState","nightMode","setNightMode","document","body","classList","add","setItem","remove","onClick","name","Navbar","TopNav","nav","to","Search","lazy","Downloads","Drive","Home","tab","fallback","DriveHelp","clientId","setClientId","clientSecret","setClientSecret","authCode","setAuthCode","showAuthCodeInput","setShowAuthCodeInput","token","setToken","loading","setLoading","error","setError","onSubmit","a","preventDefault","fetch","then","res","json","resp","window","open","authURL","JSON","stringify","required","style","color","disabled","str","el","createElement","setAttribute","position","left","appendChild","select","execCommand","removeChild","App","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ef397f41.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Input({ label, labelProps, wrapperClass, onChange, id, ...props }) {\r\n  return (\r\n    <div className={`form-group ${wrapperClass ? wrapperClass : \"\"}`}>\r\n      <label htmlFor={id}>{label}</label>\r\n      <input className=\"form-control\" id={id} onChange={e => onChange(e.target.value)} {...props} />\r\n    </div>\r\n  );\r\n}\r\n\r\nInput.defaultProps = {\r\n  type: \"text\",\r\n  onChange: text => console.log(\"Value: \", text)\r\n};\r\n\r\nInput.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string,\r\n  label: PropTypes.string.isRequired,\r\n  labelProps: PropTypes.object,\r\n  wrapperClass: PropTypes.string,\r\n  type: PropTypes.oneOf([\"text\", \"password\", \"number\"]),\r\n  placeholder: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n  readonly: PropTypes.bool,\r\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  defaultValue: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  required: PropTypes.bool\r\n};\r\n\r\nexport default Input;\r\n","import React, { useState } from \"react\";\r\n\r\nexport default function NightModeToggle() {\r\n  let localStored = false;\r\n  if (process.browser) {\r\n    localStored = localStorage.getItem(\"nightMode\") === \"true\";\r\n  }\r\n\r\n  const [nightMode, setNightMode] = useState(localStored);\r\n\r\n  if (process.browser) {\r\n    if (nightMode) {\r\n      document.body.classList.add(\"dark\");\r\n      localStorage.setItem(\"nightMode\", true);\r\n    } else {\r\n      document.body.classList.remove(\"dark\");\r\n      localStorage.setItem(\"nightMode\", false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <button className=\"btn mv-auto sm neutral\" onClick={() => setNightMode(!nightMode)}>\r\n      <span className=\"bnt-icon\">\r\n        <ion-icon name=\"moon\" />\r\n      </span>\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport NightModeToggle from \"./NightModeToggle\";\r\n\r\nfunction Navbar() {\r\n  return (\r\n    <div className=\"nav\">\r\n      <div className=\"content\">\r\n        <div className=\"nav-logo\">\r\n          <h1 className=\"h2 m-0\">Torrent AIO bot</h1>\r\n        </div>\r\n        <div className=\"nav-links\">\r\n          <NightModeToggle />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function TopNav({ nav }) {\r\n  return (\r\n    <div className=\"nav nav-horiz\">\r\n      <div className=\"content\">\r\n        <ul className=\"d-flex align-items-center space-around width-100 m-0\">\r\n          <li className={`cursor-pointer p-0 ph-1 height-100 d-flex align-items-center${nav === \"search\" ? \" border-bottom-1\" : \"\"}`}>\r\n            <Link to=\"/search\" className=\"height-100 d-flex align-items-center\">\r\n              <i className=\"h2 m-0 d-flex align-items-center\">\r\n                <ion-icon name=\"search-outline\" />\r\n              </i>\r\n              <span className=\"tablet-desktop-only ml-05\">Search</span>\r\n            </Link>\r\n          </li>\r\n          <li className={`cursor-pointer p-0 ph-1 height-100 d-flex align-items-center${nav === \"downloads\" ? \" border-bottom-1\" : \"\"}`}>\r\n            <Link to=\"/download\" className=\"height-100 d-flex align-items-center\">\r\n              <i className=\"h2 m-0 d-flex align-items-center\">\r\n                <ion-icon name=\"download-outline\" />\r\n              </i>\r\n              <span className=\"tablet-desktop-only ml-05\">Downloads</span>\r\n            </Link>\r\n          </li>\r\n          <li className={`cursor-pointer p-0 ph-1 height-100 d-flex align-items-center${nav === \"drive\" ? \" border-bottom-1\" : \"\"}`}>\r\n            <Link to=\"/drive\" className=\"height-100 d-flex align-items-center\">\r\n              <i className=\"h2 m-0 d-flex align-items-center\">\r\n                <ion-icon name=\"push-outline\" />\r\n              </i>\r\n              <span className=\"tablet-desktop-only ml-05\">Drive</span>\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { lazy, Suspense } from \"react\";\r\nimport TopNav from \"../components/TopNav\";\r\n\r\nconst Search = lazy(() => import(\"../screens/Search\"));\r\nconst Downloads = lazy(() => import(\"../screens/Downloads\"));\r\nconst Drive = lazy(() => import(\"../screens/Drive\"));\r\n\r\nexport default function Home({ tab }) {\r\n  const nav = tab || \"search\";\r\n\r\n  return (\r\n    <>\r\n      <TopNav nav={nav} />\r\n      <main>\r\n        <div className=\"content\">\r\n          <Suspense fallback={<div className=\"div-loading\" />}>\r\n            {nav === \"search\" && <Search />}\r\n            {nav === \"downloads\" && <Downloads />}\r\n            {nav === \"drive\" && <Drive />}\r\n          </Suspense>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Input from \"../components/Input\";\r\n\r\nexport default function DriveHelp() {\r\n  const [clientId, setClientId] = useState(\"\");\r\n  const [clientSecret, setClientSecret] = useState(\"\");\r\n  const [authCode, setAuthCode] = useState(\"\");\r\n  const [showAuthCodeInput, setShowAuthCodeInput] = useState(false);\r\n  const [token, setToken] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const copyToClipboard = () => {\r\n    const str = token;\r\n    const el = document.createElement(\"textarea\");\r\n    el.value = str;\r\n    el.setAttribute(\"readonly\", \"\");\r\n    el.style.position = \"absolute\";\r\n    el.style.left = \"-9999px\";\r\n    document.body.appendChild(el);\r\n    el.select();\r\n    document.execCommand(\"copy\");\r\n    document.body.removeChild(el);\r\n  };\r\n\r\n  const onSubmit = async e => {\r\n    if (e) e.preventDefault();\r\n    setLoading(true);\r\n    if (clientId && clientSecret && !authCode) {\r\n      const resp = await fetch(`/api/v1/drive/getAuthURL?clientId=${clientId}&clientSecret=${clientSecret}`).then(res => res.json());\r\n      if (!resp || resp.error) {\r\n        setError(resp.error || \"An error occured\");\r\n      } else {\r\n        window.open(resp.authURL);\r\n        setShowAuthCodeInput(true);\r\n      }\r\n    } else if (clientId && clientSecret && authCode) {\r\n      const resp = await fetch(\r\n        `/api/v1/drive/getAuthToken?clientId=${clientId}&clientSecret=${clientSecret}&authCode=${authCode}`\r\n      ).then(res => res.json());\r\n      if (!resp || resp.error) {\r\n        setError(resp.error || \"An error occured\");\r\n      } else {\r\n        setToken(JSON.stringify(resp.token));\r\n      }\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      <div className=\"content\">\r\n        <h1>Gdrive token generator</h1>\r\n        <form onSubmit={onSubmit}>\r\n          <Input id=\"clientId\" name=\"clientId\" label=\"Client Id\" value={clientId} onChange={setClientId} required />\r\n          <Input id=\"clientSecret\" name=\"clientSecret\" label=\"Client Secret\" value={clientSecret} onChange={setClientSecret} required />\r\n          {showAuthCodeInput && <Input id=\"authCode\" name=\"authCode\" label=\"Auth code\" value={authCode} onChange={setAuthCode} required />}\r\n          {error && <div style={{ color: \"red\" }}>{error}</div>}\r\n          <button disabled={loading} className={`btn primary${loading ? \" loading\" : \"\"}`} type=\"submit\">\r\n            {authCode ? \"Get auth code\" : \"Generate token\"}\r\n          </button>\r\n        </form>\r\n        {token && (\r\n          <>\r\n            <div className=\"mt-1\">{token}</div>\r\n            <button className=\"btn primary\" onClick={copyToClipboard}>\r\n              Copy token\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\n\r\nimport Home from \"./screens/Home\";\r\nimport DriveHelp from \"./screens/DriveHelp\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={Home} />\r\n        <Route exact path=\"/search\">\r\n          <Home tab=\"search\" />\r\n        </Route>\r\n        <Route path=\"/drive/:folderId?\">\r\n          <Home tab=\"drive\" />\r\n        </Route>\r\n        <Route exact path=\"/download\">\r\n          <Home tab=\"downloads\" />\r\n        </Route>\r\n        <Route exact path=\"/drivehelp\" component={DriveHelp} />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport App from \"./App\";\r\nimport \"./assets/css/index.css\";\r\nimport \"./assets/css/helpers.css\";\r\nimport \"./assets/css/navbar.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Navbar />\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}