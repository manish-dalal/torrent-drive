{"version":3,"sources":["components/Picker.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/SearchItem.js","screens/Search.js"],"names":["Picker","label","labelProps","wrapperClass","onChange","id","options","props","className","htmlFor","e","target","value","map","opt","key","name","defaultProps","text","console","log","_defineProperty","obj","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","SearchItem","result","site","api","useState","loading","setLoading","response","setResponse","loadDetails","a","fetch","link","res","status","error","errorMessage","json","seeds","details","torrent","onClick","disabled","infoText","infoTitle","href","downloadLink","str","el","document","createElement","setAttribute","style","position","left","body","appendChild","select","execCommand","removeChild","Search","term","setTerm","setSite","search","preventDefault","onSubmit","required","Input","placeholder","type","results"],"mappings":"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","file":"static/js/6.0dbab8fb.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Picker({ label, labelProps, wrapperClass, onChange, id, options, ...props }) {\r\n  return (\r\n    <div className={`form-group${wrapperClass ? ` ${wrapperClass}` : \"\"}`}>\r\n      <label htmlFor={id} {...labelProps}>\r\n        {label}\r\n      </label>\r\n      <select className=\"form-control\" id={id} onChange={e => onChange(e.target.value)} {...props}>\r\n        <option>Select one</option>\r\n        {options &&\r\n          options.map(opt => (\r\n            <option value={opt.value} key={opt.value}>\r\n              {opt.name}\r\n            </option>\r\n          ))}\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nPicker.defaultProps = {\r\n  onChange: text => console.log(\"Value: \", text)\r\n};\r\n\r\nPicker.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  name: PropTypes.string,\r\n  label: PropTypes.string.isRequired,\r\n  labelProps: PropTypes.object,\r\n  wrapperClass: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n  readonly: PropTypes.bool,\r\n  value: PropTypes.string,\r\n  defaultValue: PropTypes.string,\r\n  required: PropTypes.bool,\r\n  options: PropTypes.arrayOf(PropTypes.shape({ value: PropTypes.string.isRequired, name: PropTypes.string.isRequired }))\r\n    .isRequired\r\n};\r\n\r\nexport default Picker;\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React, { useState } from \"react\";\r\n\r\nfunction SearchItem({ result, site, api }) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [response, setResponse] = useState({});\r\n\r\n  const loadDetails = async () => {\r\n    setLoading(true);\r\n\r\n    const res = await fetch(api + \"api/v1/details/\" + site + \"?query=\" + result.link);\r\n    if (res.status !== 200) {\r\n      setResponse({ error: true, errorMessage: \"Cannot connect to site\" });\r\n    } else {\r\n      const response = await res.json();\r\n      setResponse({ ...response });\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  const copyToClipboard = () => {\r\n    const str = response.torrent.downloadLink;\r\n    const el = document.createElement(\"textarea\");\r\n    el.value = str;\r\n    el.setAttribute(\"readonly\", \"\");\r\n    el.style.position = \"absolute\";\r\n    el.style.left = \"-9999px\";\r\n    document.body.appendChild(el);\r\n    el.select();\r\n    document.execCommand(\"copy\");\r\n    document.body.removeChild(el);\r\n  };\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      <div className=\"card-body\">\r\n        <h2>{result.name}</h2>\r\n        <div className=\"text-primary text-400\">Seeds: {result.seeds}</div>\r\n        <div className=\"text-400\">{result.details}</div>\r\n        {!response.torrent && (\r\n          <button onClick={loadDetails} disabled={loading} className={`btn primary${loading ? \" loading\" : \"\"}`}>\r\n            Load details\r\n          </button>\r\n        )}\r\n        {response.error && <div className=\"text-danger\">{response.errorMessage}</div>}\r\n        {response.torrent && (\r\n          <div className=\"mt-1\">\r\n            {response.torrent.details.map(({ infoText, infoTitle }, i) => (\r\n              <div className=\"d-flex space-between\" key={i}>\r\n                <div className=\"text-400\">{infoTitle}</div>\r\n                <div className=\"text-300\">{infoText}</div>\r\n              </div>\r\n            ))}\r\n            <a href={response.torrent.downloadLink} className=\"btn warning m-0 mt-1\">\r\n              Download\r\n            </a>\r\n            <button onClick={copyToClipboard} className=\"btn primary m-0 ml-1 mt-1\">\r\n              Copy link\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchItem;\r\n","import React, { useState } from \"react\";\r\nimport Input from \"../components/Input\";\r\nimport Picker from \"../components/Picker\";\r\nimport SearchItem from \"../components/SearchItem\";\r\n\r\nfunction Search({ api }) {\r\n  const [term, setTerm] = useState(\"\");\r\n  const [site, setSite] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [response, setResponse] = useState({});\r\n\r\n  const search = async e => {\r\n    if (e) e.preventDefault();\r\n    setLoading(true);\r\n\r\n    if (term !== \"\") {\r\n      const res = await fetch(api + \"api/v1/search/\" + site + \"?query=\" + term);\r\n      if (res.status !== 200) {\r\n        setResponse({\r\n          error: true,\r\n          errorMessage: \"Cannot connect to site\"\r\n        });\r\n      } else {\r\n        const response = await res.json();\r\n        setResponse(response);\r\n      }\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1>Search</h1>\r\n      <form onSubmit={search}>\r\n        <Picker\r\n          id=\"site\"\r\n          name=\"site\"\r\n          label=\"Select site\"\r\n          value={site}\r\n          onChange={setSite}\r\n          options={[\r\n            { name: \"1337x\", value: \"1337x\" },\r\n            { name: \"Limetorrents\", value: \"limetorrent\" },\r\n            { name: \"Piratebay\", value: \"piratebay\" }\r\n          ]}\r\n          required\r\n        />\r\n        <Input\r\n          id=\"term\"\r\n          name=\"term\"\r\n          label=\"Search Term\"\r\n          placeholder=\"The forgotten army, Flames...\"\r\n          value={term}\r\n          onChange={setTerm}\r\n          required\r\n        />\r\n        <button disabled={loading || !site} className={`btn primary${loading ? \" loading\" : \"\"}`} type=\"submit\">\r\n          Search\r\n        </button>\r\n      </form>\r\n      <div className=\"d-flex-column mv-1\">\r\n        {response.error && <div className=\"text-danger\">{response.errorMessage}</div>}\r\n        {response.results &&\r\n          response.results.length > 0 &&\r\n          response.results.map(result => <SearchItem api={api} site={site} result={result} key={result.link} />)}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nSearch.defaultProps = { api: \"https://torrent-aio-bot.herokuapp.com/\" };\r\n\r\nexport default Search;\r\n"],"sourceRoot":""}