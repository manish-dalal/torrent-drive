(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[6],{42:function(e,t,a){"use strict";a.r(t);var r=a(11),n=a.n(r),c=a(16),s=a(6),o=a(0),l=a.n(o),i=a(10),u=a(20);function m(e){var t=e.label,a=e.labelProps,r=e.wrapperClass,n=e.onChange,c=e.id,s=e.options,o=Object(u.a)(e,["label","labelProps","wrapperClass","onChange","id","options"]);return l.a.createElement("div",{className:"form-group".concat(r?" ".concat(r):"")},l.a.createElement("label",Object.assign({htmlFor:c},a),t),l.a.createElement("select",Object.assign({className:"form-control",id:c,onChange:function(e){return n(e.target.value)}},o),l.a.createElement("option",null,"Select one"),s&&s.map((function(e){return l.a.createElement("option",{value:e.value,key:e.value},e.name)}))))}m.defaultProps={onChange:function(e){return console.log("Value: ",e)}};var p=m;function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=function(e){var t=e.result,a=e.site,r=e.api,i=Object(o.useState)(!1),u=Object(s.a)(i,2),m=u[0],p=u[1],b=Object(o.useState)({}),d=Object(s.a)(b,2),v=d[0],y=d[1],O=function(){var e=Object(c.a)(n.a.mark((function e(){var c,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,fetch(r+"api/v1/details/"+a+"?query="+t.link);case 3:if(200===(c=e.sent).status){e.next=8;break}y({error:!0,errorMessage:"Cannot connect to site"}),e.next=12;break;case 8:return e.next=10,c.json();case 10:s=e.sent,y(f({},s));case 12:p(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h2",null,t.name),l.a.createElement("div",{className:"text-primary text-400"},"Seeds: ",t.seeds),l.a.createElement("div",{className:"text-400"},t.details),!v.torrent&&l.a.createElement("button",{onClick:O,disabled:m,className:"btn primary".concat(m?" loading":"")},"Load details"),v.error&&l.a.createElement("div",{className:"text-danger"},v.errorMessage),v.torrent&&l.a.createElement("div",{className:"mt-1"},v.torrent.details.map((function(e,t){var a=e.infoText,r=e.infoTitle;return l.a.createElement("div",{className:"d-flex space-between",key:t},l.a.createElement("div",{className:"text-400"},r),l.a.createElement("div",{className:"text-300"},a))})),l.a.createElement("a",{href:v.torrent.downloadLink,className:"btn warning m-0 mt-1"},"Download"),l.a.createElement("button",{onClick:function(){var e=v.torrent.downloadLink,t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},className:"btn primary m-0 ml-1 mt-1"},"Copy link"))))};function y(e){var t=e.api,a=Object(o.useState)(""),r=Object(s.a)(a,2),u=r[0],m=r[1],b=Object(o.useState)(""),d=Object(s.a)(b,2),f=d[0],y=d[1],O=Object(o.useState)(!1),h=Object(s.a)(O,2),g=h[0],j=h[1],E=Object(o.useState)({}),x=Object(s.a)(E,2),w=x[0],k=x[1],N=function(){var e=Object(c.a)(n.a.mark((function e(a){var r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.preventDefault(),j(!0),""===u){e.next=14;break}return e.next=5,fetch(t+"api/v1/search/"+f+"?query="+u);case 5:if(200===(r=e.sent).status){e.next=10;break}k({error:!0,errorMessage:"Cannot connect to site"}),e.next=14;break;case 10:return e.next=12,r.json();case 12:c=e.sent,k(c);case 14:j(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Search"),l.a.createElement("form",{onSubmit:N},l.a.createElement(p,{id:"site",name:"site",label:"Select site",value:f,onChange:y,options:[{name:"1337x",value:"1337x"},{name:"Limetorrents",value:"limetorrent"},{name:"Piratebay",value:"piratebay"}],required:!0}),l.a.createElement(i.a,{id:"term",name:"term",label:"Search Term",placeholder:"The forgotten army, Flames...",value:u,onChange:m,required:!0}),l.a.createElement("button",{disabled:g||!f,className:"btn primary".concat(g?" loading":""),type:"submit"},"Search")),l.a.createElement("div",{className:"d-flex-column mv-1"},w.error&&l.a.createElement("div",{className:"text-danger"},w.errorMessage),w.results&&w.results.length>0&&w.results.map((function(e){return l.a.createElement(v,{api:t,site:f,result:e,key:e.link})}))))}y.defaultProps={api:"https://torrent-aio-bot.herokuapp.com/"};t.default=y}}]);
//# sourceMappingURL=6.0dbab8fb.chunk.js.map